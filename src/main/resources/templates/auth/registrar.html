<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
    <head th:replace="fragments :: head"></head>
    <nav th:replace="fragments :: nav"></nav>
    <body>
        <div class="container">
            <div class="row py-5">
                <div class="mx-auto col-md-10">
                    <div class="card">
                        <h4 class="card-header">
                            Registrar
                        </h4>
                        <form class="card-body" action="/registrar"
                              th:object="${formRegistro}" method="POST"
                              enctype="utf8" autocomplete="off">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="email">
                                            Email
                                        </label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text">
                                                    <i class="material-icons">
                                                        alternate_email
                                                    </i>
                                                </div>
                                            </div>
                                            <input id="email" class="form-control"
                                                   type="email" th:field="*{email}"
                                                   required
                                                   placeholder="ejemplo@mail.com"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="password">
                                            Contraseña
                                        </label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text">
                                                    <i class="material-icons">
                                                        vpn_key
                                                    </i>
                                                </div>
                                            </div>
                                            <input id="password" class="form-control"
                                                   type="password" th:field="*{contrasenia}"
                                                   required
                                                   placeholder="Contraseña"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="passwordConf">
                                            Confirmación contraseña
                                        </label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text">
                                                    <i class="material-icons">
                                                        vpn_key
                                                    </i>
                                                </div>
                                            </div>
                                            <input id="passwordConf" class="form-control"
                                                   onkeyup="checkMatchPassword()"
                                                   type="password" th:field="*{confContrasenia}"
                                                   required
                                                   placeholder="Contraseña"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="telefono">
                                            Teléfono
                                        </label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text">
                                                    <i class="material-icons">
                                                        phone
                                                    </i>
                                                </div>
                                            </div>
                                            <input id="telefono" class="form-control"
                                                   type="text" th:field="*{telefono}"
                                                   required
                                                   placeholder="Teléfono"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="nombre">
                                            Nombre
                                        </label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text">
                                                    <i class="material-icons">
                                                        person
                                                    </i>
                                                </div>
                                            </div>
                                            <input id="nombre" class="form-control"
                                                   type="text" th:field="*{nombre}"
                                                   placeholder="Luis" required/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="apellido-paterno">
                                            Apellido Paterno
                                        </label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text">
                                                    <i class="material-icons">
                                                        people
                                                    </i>
                                                </div>
                                            </div>
                                            <input id="apellido-paterno" class="form-control"
                                                   type="text" th:field="*{apellidoPaterno}"
                                                   required
                                                   placeholder="Lopez"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="apellido-materno">
                                            Apellido Materno
                                        </label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text">
                                                    <i class="material-icons">
                                                        people
                                                    </i>
                                                </div>
                                            </div>
                                            <input id="apellido-materno" class="form-control"
                                                   type="text" th:field="*{apellidoMaterno}"
                                                   required
                                                   placeholder="Pérez"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="direccion">
                                            Dirección
                                        </label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <div class="input-group-text">
                                                    <i class="material-icons">
                                                        home
                                                    </i>
                                                </div>
                                            </div>
                                            <input id="direccion" class="form-control"
                                                   type="text" th:field="*{direccion}"
                                                   required
                                                   placeholder="Calle #19 Colonia"/>
                                        </div>
                                    </div>
                                    <button class="btn btn-success" type="submit">
                                        Registrar
                                    </button>
                                    <span class="ml-2">
                                        ¿Ya tienes una cuenta?
                                        <a th:href="@{/login}">
                                            Inicia sesión
                                        </a>
                                    </span>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <script type='text/javascript'>
            function checkMatchPassword() {
                const passwordConf = document.getElementById('passwordConf');
                const password = document.getElementById('password');
                if (password.value !== passwordConf.value) {
                    passwordConf.setCustomValidity('Las contraseñas no coinciden.');
                } else {
                    passwordConf.setCustomValidity('');
                }
            }
        </script>
    </body>
    <div th:replace="fragments :: bootstrap-js"></div>
</html>
